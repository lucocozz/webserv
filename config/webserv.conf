server {
	listen 8081;
	server_name toto;
	
	root /tmp/www/tests/toto;

	client_max_body_size 1G;

	error_page 404:error_pages/404.html 4xx:error_pages/clientError.html 5xx:error_pages/serverError.html notvalid:error_pages/error.html;

	autoindex on;
	index doesntexist_index.html default_index.html;

	allowed_method GET POST DELETE;

	location /uploads {
		allowed_method GET POST DELETE;
		autoindex on;
		upload_location /files;
		root /uploads;
	}

	location /autoindex/ {
		allowed_method GET;
		autoindex on;
		#return 301 /autoindex;
		index custom_index.html default_index.html;
	}

	location *.php {
		cgi_binary		/usr/bin/php-cgi;
		allowed_method GET POST;
	}

	location /php-cgi {
		cgi_extension 	.php;
		cgi_binary		/usr/bin/php-cgi;
		autoindex on;
	}

	location /ubuntu-cgi-tester/ {
		cgi_extension 	.php;
		cgi_binary		/usr/bin/ubuntu_cgi_tester;
		allowed_method GET POST;
	}
	
	location *.py{
		cgi_binary		/usr/bin/python;
		allowed_method GET POST;
	}
}

server {
	listen 8080;
	server_name yolo;

	root /tmp/www/tests/yolo;

	#autoindex on;

	error_log off;
	access_log /dev/stdout;

	location /test {
		allowed_method GET POST DELETE;
		autoindex on;
	}

	location *.php {
		cgi_extension 	.php;
		cgi_binary		/usr/bin/php-cgi;
		allowed_method GET POST;
	}

	location /ubuntu-cgi-tester/ {
		cgi_extension 	.php;
		cgi_binary		/usr/bin/ubuntu_cgi_tester;
		allowed_method GET POST;
	}
	
	location /python-cgi/ {
		cgi_extension 	.py;
		cgi_binary		/usr/bin/python;
		allowed_method GET POST;
	}
}
